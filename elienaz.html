<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>

  <style>
    html, body {
      overflow: hidden;
    }

    body{
      width:100%;
      height:100vh;
      padding:0;
      margin:0;
    }

    canvas{
      padding:0;
      margin:0;
      background-color:#333333;
      background-image:url("./wallpaper.jpg");
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      border:none;
    }
  </style>
  <script type="application/javascript">
    var ctx;
    var dimension = [document.documentElement.clientWidth, document.documentElement.clientHeight];
    var position = new Array();
    var f = 1;
    
    function RandomNumber(first, last){
      var choices = last - first;
      return Math.floor(Math.random() * choices + first);
    }

    function RandomPosition(){
      for(i=0; i<=2000; i+=2){
        position[i] = RandomNumber(0, dimension[0]);
        position[i+1] = RandomNumber(0, dimension[1]);
      }
    }

    function DrawClear(x , y) {
        ctx.clearRect(0, 0, x, y);
    }

    function DrawSnow(){
      DrawClear(dimension[0], dimension[1]);
      for(i=0; i<=2000; i+=2){
        ctx.beginPath();
        ctx.arc(position[i], position[i+1], (i%8)/5*2, 0, Math.PI*2, true);
        ctx.closePath();
        ctx.fill();


        if (position[i] > dimension[0])
          position[i] = 0;

        if (position[i+1] > dimension[1])
          position[i+1] = 0;

        switch(i%8){
            case 0:
              position[i] += 0.22 + (f * 0.25);
              position[i+1] += 0.5 + (f * 0.1);
              break;
            case 2:
              position[i] += 0.27 + (f * 0.20);
              position[i+1] += 0.6 + ( f * 0.15);
              break;
            case 4:
              position[i] += 0.34 + (f * 0.35);
              position[i+1] += 0.8 + (f * 0.2);
              break;
            default:
              position[i] += 0.31 + (f * 0.4);
              position[i+1] += 0.7 + (f * 0.25);
          }

          f *= -1;
      }
    }

    function StartSnow(){
      var canvas = document.getElementById('canvas');

      canvas.width = dimension[0];
      canvas.height = dimension[1];
      if (canvas.getContext) {
        ctx = canvas.getContext('2d');
        RandomPosition();
        var grd = ctx.createRadialGradient(75,50,5,90,60,100);
        grd.addColorStop(0,'rgba(250, 250, 250, 0.85)');
        grd.addColorStop(1,'rgba(255, 255, 255, 0.8)');
        ctx.fillStyle = grd;
        setInterval(DrawSnow, 20);
      }
    }
  </script>
 </head>
 <body onload="draw();">
   <canvas id="canvas"></canvas>

   <script>StartSnow();</script>
 </body>
</html>
